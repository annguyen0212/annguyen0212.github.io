<!DOCTYPE html>
<html>
  <head>
    <title>Experiment</title>
    <script src="jspsych.js"></script>
    <script src="plugins/jspsych-html-button-response.js"></script>
    <script src="plugins/jspsych-image-button-response.js"></script>
    <script src="plugins/jspsych-audio-button-response.js"></script>
    <script src="plugins/jspsych-survey-multi-choice.js"></script>


    <link href="css/jspsych.css" rel="stylesheet" type="text/css"></link>
  </head>
  <body>  
  </body>
  <script>
   var timeline = [];
   var page_1_options = ["old Victorian-era bright green house", "bright old Victorian-era green house", "Victorian-era old bright green house", "old bright green Victorian-era house"];
  var page_2_options =  ["go to bed earlier", "go to bed later", "wake up earlier", "wake up later"];
   var page_3_options =  ["through", "on", "in", "inside", "outside", "near"];   
   var page_4_options =  ["start the bath", "fill the bath", "get the bath", "draw the bath", "make the bath", "load the bath"];   
   var multi_choice_block = {
  type: 'survey-multi-choice',
  questions: [
    {prompt: "Miranda has been saving money to buy a house. She wants to purchase a(n) ... ", name: 'adj', options: page_1_options, required:true},       
    {prompt: "Miranda has been sleeping late. This affects both her work and her health. To address this, she should ", name: 'sleeping', options: page_2_options, required: true},
    {prompt: "The worker notices that there is a crack ___ the pavement ", name: 'preposition', options: page_3_options, required: true},
    {prompt: "It is so hot outside! I'm going to ___ ", name: 'phrase', options: page_4_options, required: true},
],
 on_finish: function(data){
 x = JSON.stringify(data.responses.split(",")[0]);
console.log(x);
console.log(x=='Q0":"bright old Victorian-era green house');
 console.log(x.split(/Q0/)[1]==':"bright old Victorian-era green house');}
 };
   
  
      timeline.push(multi_choice_block);
      jsPsych.init({
      timeline: timeline,
         use_webaudio: false,
     fullscreen: true,
      on_finish: function() {
         x = jsPsych.data.responses.match(/[a-zA-Z0-9]/g).join('').split(",")[1];
          console.log(x);
          console.log(x=="old Victorian-era bright green house");
        jsPsych.data.responses.displayData('csv');
    }
    });
  </script>
</html>
